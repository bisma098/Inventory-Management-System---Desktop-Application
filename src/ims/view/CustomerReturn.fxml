<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="ims.controller.CustomerReturnController"
            fitToWidth="true"
            hbarPolicy="NEVER">

    <content>

        <VBox spacing="20">

            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- Header Section -->
            <HBox spacing="20" alignment="CENTER_LEFT">
                <Label text="Customer Returns"
                       style="-fx-font-size: 24px; -fx-font-weight: bold;"/>

                <Button text="+ Create Customer Return"
                        onAction="#showCreateForm"
                        style="-fx-background-color:linear-gradient(to bottom, #008080, #006666);
                               -fx-text-fill: white; 
                               -fx-font-weight: bold; 
                               -fx-padding: 8 16;"/>
            </HBox>

            <!-- Customer Returns Table -->
            <VBox spacing="10">
                <TableView fx:id="customerReturnTable" prefHeight="300">
                    <columns>
                        <TableColumn text="Return ID" prefWidth="80"/>
                        <TableColumn text="Customer" prefWidth="200"/>
                        <TableColumn text="Date" prefWidth="120"/>
                        <TableColumn text="Reason" prefWidth="200"/>
                        <TableColumn text="Total Refund" prefWidth="120"/>
                        <TableColumn text="Lines Count" prefWidth="100"/>
                        <TableColumn text="Action" prefWidth="120"/>
                    </columns>
                </TableView>
            </VBox>

            <!-- Return Details Section (HIDDEN by default) -->
            <VBox fx:id="returnDetailsSection"
                  spacing="15"
                  visible="false"
                  managed="false">

                <Label fx:id="detailsTitle"
                       text="Return Lines for Selected Return"
                       style="-fx-font-size: 16px; -fx-font-weight: bold"/>

                <!-- CUSTOMER DETAILS BOX -->
                <VBox fx:id="customerDetailsBox"
                      spacing="5"
                      style="-fx-background-color: #f2f2f2;
                             -fx-padding: 10;
                             -fx-background-radius: 8;">

                    <Label text="Customer Details"
                           style="-fx-font-size: 14px; -fx-font-weight: bold;" />

                    <Label fx:id="customerNameLabel" text="Name: " />
                    <Label fx:id="customerContactLabel" text="Contact: " />
                </VBox>

                <Label text="Return Lines Details"
                       style="-fx-font-size: 14px; -fx-font-weight: bold;" />

                <!-- RETURN LINES TABLE -->
                <TableView fx:id="returnLinesTable" prefHeight="200">
                    <columns>
                        <TableColumn text="Product" prefWidth="200"/>
                        <TableColumn text="Batch" prefWidth="100"/>
                        <TableColumn text="Quantity" prefWidth="80"/>
                        <TableColumn text="Unit Price" prefWidth="100"/>
                        <TableColumn text="Line Total" prefWidth="100"/>
                    </columns>
                </TableView>

                <Button text="Close Details"
                        onAction="#hideReturnDetails"
                        style="-fx-background-color: #666;
                               -fx-text-fill: white;
                               -fx-padding: 5 10;"/>
            </VBox>

        </VBox>

    </content>

</ScrollPane>
